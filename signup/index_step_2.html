<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Đăng nhập</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../css/style.css">
</head>

<body>
  <header class="border-b hidden md:block">
    <div class="mx-auto flex items-center justify-between py-4  px-4 border-solid">
      <div class="logo">
        <img src="../img/logo-sharp.svg" width="130" alt="">
      </div>
      <div class="flex gap-4 items-center">
        <div class="flex items-center gap-4">
          <h2 class="text-xl bg-[--primary-color] px-16 py-2 text-white">ĐĂNG NHẬP</h2>
          <div class="w-2 min-h-12 bg-[--primary-color]"></div>
          <div class="quick_link flex item-center gap-2">
            <a href="" class="w-11 h-11 flex items-center justify-center"><img src="../img/icon_h.svg" width="24" alt=""></a>
            <a href="" class="w-11 h-11 flex items-center justify-center"><img src="../img/icon_s_red.svg" width="24" alt=""></a>
          </div>
        </div>
        <div class="lang flex items-center gap-4">
          <img src="../img/icon_lang.svg" width="24" alt="">
          <span class="text-base decoration-solid">Tiếng Việt</span>
        </div>
      </div>
    </div>
  </header>

  <main class="bg-[--bg-base] container-full mx-auto h-screen overflow-hidden">
    <div class="grid grid-cols-12 gap-0 md:gap-4 h-screen">
      <div class="md:col-span-12 col-span-12 flex flex-col item-center justify-center">
        <div class="relative md:w-96 w-full h-full md:h-auto mx-auto bg-white md:border-solid md:border box-shadow md:p-8 px-4 py-16 md:block flex justify-between flex-col">
          <div id="loading-overlay" class="overlay hidden absolute inset-0 bg-white bg-opacity-50 flex justify-center items-center">
            <div class="spinner-border border-4 border-t-transparent border-[--primary-color] w-10 h-10 rounded-full"></div>
          </div>
          <div class="login-top">
            <a class="flex items-center justify-start gap-2 mb-4 text-sm" href="">
              <img src="../img/icon_back.svg" width="20" alt="">
              <span class="underline">Quay lại</span>
            </a>
            <div class="progress-bar mt-4 mb-4 flex items-center gap-4 w-full h-1">
                <div id="progress-step-1" class="progress-step"></div>
                <div id="progress-step-2" class="progress-step active"></div>
            </div>
            <h2 class="text-2xl font-bold mb-2">Địa chỉ cần bảo hành</h2>

            <div class="form-control mt-4">
              <label for="username" class="mb-2 block font-light text-sm">Tên đăng nhập</label>
              <input id="username" type="text" class="border border-[--border-color] block rounded-md w-full px-4 py-3" placeholder="Tên đăng nhập...">
            </div>

            <div class="form-control mt-4">
              <label for="email" class="mb-2 block font-light text-sm">Email</label>
              <input id="email" type="email" class="border border-[--border-color] block rounded-md w-full px-4 py-3" placeholder="Email...">
            </div>

            <div class="form-control mt-4">
              <label for="phone" class="mb-2 block font-light text-sm">Số điện thoại</label>
              <input id="phone" type="text" class="border border-[--border-color] block rounded-md w-full px-4 py-3" placeholder="Số điện thoại...">
            </div>

            <div class="form-control mt-4">
              <label for="other-phone" class="mb-2 block font-light text-sm">Số điện thoại khác (nếu có)</label>
              <input id="other-phone" type="text" class="border border-[--border-color] block rounded-md w-full px-4 py-3" placeholder="Số điện thoại khác...">
            </div>

            <div id="error-message" class="error-message hidden text-[--primary-color] text-sm mt-2">
              <div class="flex items-center gap-2"><img src="../img/warning-circle.svg" width="20" alt=""> Số điện thoại không hợp lệ, vui lòng nhập lại</div>
            </div>
          </div>

          <div class="login-bottom mt-4">
            <button id="confirm-btn" class="flex items-center justify-center gap-4 btn-main bg-[--primary-color] w-full py-2 text-white rounded-md transition ease-in-out hover:scale-105 duration-300">
              <span id="btn-text">Xác nhận</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function () {
      $('#confirm-btn').on('click', function () {
        var username = $('#username').val();
        var email = $('#email').val();
        var phoneNumber = $('#phone').val();
        var otherPhone = $('#other-phone').val();

        // Kiểm tra các trường nhập liệu
        var phoneRegex = /^[0-9]{10,11}$/;
        var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

        var isValid = true;
        var progress = 0;

        // Kiểm tra các trường thông tin
        if (username === "") {
          isValid = false;
        } else {
          progress += 25;
        }

        if (emailRegex.test(email)) {
          progress += 25;
        } else {
          isValid = false;
        }

        if (phoneRegex.test(phoneNumber)) {
          progress += 25;
        } else {
          isValid = false;
        }

        if (otherPhone === "" || phoneRegex.test(otherPhone)) {
          progress += 25;
        } else {
          isValid = false;
        }

        // Cập nhật thanh tiến trình
        $('#progress').css('width', progress + '%');

        if (isValid) {
          $('#error-message').addClass('hidden');
          $('#loading-overlay').removeClass('hidden');
          $('#btn-text').text('Đang kiểm tra...');

          setTimeout(function () {
            $('#loading-overlay').addClass('hidden');
            $('#btn-text').text('Xác nhận');
            alert("Đăng ký thành công!");
          }, 2000);
        } else {
          $('#error-message').removeClass('hidden');
        }
      });
    });
  </script>
</body>

</html>
