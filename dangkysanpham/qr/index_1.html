<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng nhập</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../../css/style.css">
    <style>
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(8px);
            display: none;
            justify-content: center;
            align-items: center;
        }

        .modal {
            background-color: white;
            padding: 2rem;
            width: 80%;
            max-width: 500px;
            text-align: center;
        }

        .overlay.show {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

    </style>
</head>

<body>
    <header class="border-b hidden md:block">
        <div class="mx-auto flex items-center justify-between py-4  px-4 border-solid">
            <div class="logo">
                <img src="../../img/logo-sharp.svg" width="130" alt="">
            </div>
            <div class="flex gap-4 items-center">
                <div class="flex items-center gap-4">
                    <h2 class="text-xl bg-[--primary-color] px-16 py-2 text-white">ĐĂNG KÝ SẢN PHẨM</h2>
                    <div class="w-2 min-h-12 bg-[--primary-color]"></div>
                    <div class="quick_link flex item-center gap-2">
                        <a href="" class="w-11 h-11 flex items-center justify-center"><img src="../../img/icon_h.svg"
                                width="24" alt=""></a>
                        <a href="" class="w-11 h-11 flex items-center justify-center"><img src="../../img/icon_s_red.svg"
                                width="24" alt=""></a>
                    </div>
                </div>
                <div class="lang flex items-center gap-4">
                    <img src="../../img/icon_lang.svg" width="24" alt="">
                    <span class="text-base decoration-solid">Tiếng Việt</span>
                </div>
            </div>
        </div>
    </header>
    <div class="banner main-wrap">
        <img src="../../img/banner_head.png" alt="">
    </div>
    <main class="bg-white main-wrap mx-auto overflow-hidden">
        <div class="grid grid-cols-12 gap-0 md:gap-4 h-">
            <div class="md:col-span-12 col-span-12 flex flex-col item-center justify-center pt-8">
                <a class="flex items-center justify-start gap-2 mb-4 text-sm" href="">
                    <img src="../../img/icon_back.svg" width="20" alt="">
                    <span class="underline">Quay lại</span>
                </a>
                <div
                    class="relative w-1/3 h-full md:h-auto mx-auto md:p-8 px-4 py-16 md:block flex justify-between flex-col">
                    <div class="login-top">
                        <h2 class="text-2xl font-bold mb-2 text-center">Quét mã đăng ký</h2>
                        <p class="text-center text-sm">Điều chỉnh máy ảnh sao cho mã QR nằm trong khung hình</p>
                        <img src="../../img/qr_sample.png" width="300" class="mx-auto mt-4" alt="">
                        <div class="flex items-center gap-2 justify-center mt-4 mb-4">
                            <div class="w-24 h-px bg-[--border-color]"></div>
                            <p>Hoặc</p>
                            <div class="w-24 h-px bg-[--border-color]"></div>
                        </div>
                        <div id="mt-4">
                            <div class="form-control mt-4">
                                <div class="border border-[--border-color] rounded-lg p-4 w-72 mx-auto">
                                    <label for="file-upload" class="flex items-center gap-2 justify-start">
                                        <img src="../../img/upload.svg" class="w-16 h-16" alt="">
                                        <div class="text-left">
                                            <p class="font-bold mt-0">Tải lên mã QR</p>
                                            <p class="font-light">Từ thư viện của bạn</p>
                                        </div>
                                    </label>
                                    <input type="file" id="file-upload" class="absolute opacity-0" name="images" accept="image/*" multiple>
                                </div>
                        
                                <!-- Preview hình ảnh -->
                                <div class="image-preview" id="image-preview"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        const fileInput = document.getElementById('file-upload');
        const imagePreviewContainer = document.getElementById('image-preview');

        fileInput.addEventListener('change', handleFileSelect);

        function handleFileSelect(event) {
            const files = event.target.files;
            imagePreviewContainer.innerHTML = '';

            Array.from(files).forEach((file, index) => {
                const reader = new FileReader();

                reader.onload = function (e) {
                    const imageUrl = e.target.result;

                    const previewItem = document.createElement('div');
                    previewItem.classList.add('preview-item');

                    previewItem.innerHTML = `
                        <img src="${imageUrl}" alt="preview" />
                        <button class="delete-btn" data-index="${index}"><img src="../../img/close.svg" alt="" class="w-6 h-6"></button>
                    `;

                    const deleteBtn = previewItem.querySelector('.delete-btn');
                    deleteBtn.addEventListener('click', function () {
                        removeImagePreview(index);
                    });

                    imagePreviewContainer.appendChild(previewItem);
                };

                reader.readAsDataURL(file);
            });
        }

        function removeImagePreview(index) {
            const previews = document.querySelectorAll('.preview-item');
            previews[index].remove();
        }
    </script>
</body>

</html>